"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),t}function ready(){var t=document.querySelector(".js-slider");t&&new Slider(t)}document.addEventListener("DOMContentLoaded",ready);var Slider=function(){function e(t){_classCallCheck(this,e),this.$element=t,this.$slides=t.querySelectorAll(".slider-item"),this.$text=t.querySelectorAll(".slider-item-text > span"),this.$arrayParams=[],this.$link=this.$element.dataset.link&&""!=this.$element.dataset.link?this.$element.dataset.link:"",this.setSliderParam()}return _createClass(e,[{key:"setSliderParam",value:function(){for(var t=0;t<this.$text.length;t++){var e=this.$text[t].parentNode;this.$arrayParams[t]={text:this.$text[t].innerText,time:parseInt(e.dataset.time&&""!=e.dataset.time?e.dataset.time:2e3),animation:e.dataset.animation&&""!=e.dataset.animation?e.dataset.animation:"smoothly",delay:parseInt(e.dataset.delay&&""!=e.dataset.delay?e.dataset.delay:0),transform:parseInt(e.dataset.transform&&""!=e.dataset.transform?e.dataset.transform:20)}}console.log(this.$arrayParams)}},{key:"startAnimation",value:function(){var e=this;if("smoothly"==this.$animation){this.cloneTextSpan();for(var t=function(t){setTimeout(function(){e.changeImages(t),setTimeout(function(){e.changeTextWidth(t)},e.$delay)},t*e.$time)},s=0;s<this.$slides.length;s++)t(s)}else if("spell"==this.$animation){this.setTextArray();var i=function(t){setTimeout(function(){e.changeImages(t),setTimeout(function(){e.changeTextSpell(t)},e.$delay)},t*e.$time)};for(s=0;s<this.$slides.length;s++)i(s)}else if("transform"==this.$animation){for(s=0;s<this.$text.length;s++)this.$text[s].classList.add("transform-start");for(var a=function(t){setTimeout(function(){e.changeImages(t),setTimeout(function(){e.changeTextTransform(t)},e.$delay)},t*e.$time)},n=0;n<this.$slides.length;n++)a(n)}""!=this.$link&&setTimeout(function(){window.location.href=e.$link},this.$slides.length*this.$time+500)}},{key:"setTextArray",value:function(){for(var t=0;t<this.$text.length;t++)this.$textArray[t]=this.$text[t].innerText,this.$text[t].innerText="",this.$text[t].classList.add("for-spell")}},{key:"changeTextTransform",value:function(t){0<t&&(this.$text[t-1].style.display="none",this.$text[t-1].classList.remove("for-transform"));var e=(parseInt(this.$transform)+100)/100;20!=this.$transform&&(this.$text[t].style.transform="scale("+e+","+e+")"),this.$text[t].classList.add("for-transform"),this.$text[t].style.transitionDuration=(this.$time-this.$delay)/1e3+"s"}},{key:"changeTextSpell",value:function(e){var s=this;0<e&&this.$text[e-1].classList.remove("for-spell");for(var i=this.$textArray[e].length,t=function(t){setTimeout(function(){s.$text[e].innerText=s.$textArray[e].substring(0,t+1)},t*(s.$time-s.$delay)/i)},a=0;a<i;a++)t(a)}},{key:"changeImages",value:function(t){this.$slides[t].classList.add("active"),this.$slides[t].style.transitionDuration=this.$time/1e3+"s"}},{key:"changeTextWidth",value:function(t){0<t&&(this.$text[t-1].style.display="none",this.$text[t-1].classList.remove("for-smoothly")),this.$text[t].classList.add("for-smoothly"),this.$text[t].getElementsByClassName("clone-text")[0].style.transitionDuration=(this.$time-this.$delay)/1e3+"s"}},{key:"cloneTextSpan",value:function(){for(var t=0;t<this.$text.length;t++){var e=document.createElement("span");e.classList.add("clone-text"),e.innerHTML=this.$text[t].innerText.split(" ").join("&nbsp;"),this.$text[t].appendChild(e)}}}]),e}();